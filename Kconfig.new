# Zirvium Kernel Configuration
# Comprehensive driver and architecture support

mainmenu "Zirvium Kernel Configuration"

config KERNEL_VERSION
    string "Kernel version"
    default "0.2.0"

config LOCALVERSION
    string "Local version - append to kernel release"
    default ""

menu "General Setup"

config COMPRESS_KERNEL
    bool "Compress kernel image"
    default y
    help
      Compress the kernel image to reduce size.

choice
    prompt "Kernel compression mode"
    default KERNEL_GZIP
    depends on COMPRESS_KERNEL

config KERNEL_GZIP
    bool "Gzip"

config KERNEL_BZIP2
    bool "Bzip2"

config KERNEL_LZMA
    bool "LZMA"

config KERNEL_XZ
    bool "XZ"

config KERNEL_LZ4
    bool "LZ4"

config KERNEL_ZSTD
    bool "Zstandard"

endchoice

config MODULAR
    bool "Enable loadable module support"
    default y
    help
      Enable support for loading kernel modules at runtime.

config MODULE_UNLOAD
    bool "Module unloading"
    depends on MODULAR
    default y

endmenu

menu "Processor type and features"

choice
    prompt "Target Architecture"
    default X86_64

config X86
    bool "x86 32-bit"

config X86_64
    bool "x86 64-bit"

config ARM
    bool "ARM 32-bit"

config ARM64
    bool "ARM 64-bit (AArch64)"

config RISCV
    bool "RISC-V"

config PPC
    bool "PowerPC"

config XTENSA
    bool "Xtensa"

endchoice

config SMP
    bool "Symmetric multi-processing support"
    default y
    help
      Enable support for systems with multiple CPUs.

config HYPER_THREADING
    bool "Hyper-Threading support"
    depends on SMP
    default y
    help
      Support Intel Hyper-Threading technology.

config NR_CPUS
    int "Maximum number of CPUs"
    default 64
    range 1 8192
    depends on SMP

endmenu

menu "Boot Options"

config MULTIBOOT2
    bool "Multiboot2 support"
    default y

config EFI_STUB
    bool "EFI stub support"
    default y

config GRUB_SUPPORT
    bool "GRUB bootloader support"
    default y

config UBOOT_SUPPORT
    bool "U-Boot support"
    depends on ARM || ARM64
    default n

config COREBOOT_SUPPORT
    bool "Coreboot support"
    default n

endmenu

menu "Memory Management"

config PHYSICAL_MEMORY_MANAGER
    bool "Physical memory manager"
    default y

config VIRTUAL_MEMORY_MANAGER
    bool "Virtual memory manager"
    default y

config KERNEL_HEAP
    bool "Kernel heap allocator"
    default y

choice
    prompt "Page size"
    default PAGE_SIZE_4K

config PAGE_SIZE_4K
    bool "4 KB"

config PAGE_SIZE_2M
    bool "2 MB (Huge pages)"

config PAGE_SIZE_1G
    bool "1 GB (Gigantic pages)"

endchoice

endmenu

menu "Process Management"

config PROCESS_MANAGEMENT
    bool "Process management"
    default y

choice
    prompt "Scheduler algorithm"
    default SCHEDULER_CFS

config SCHEDULER_ROUND_ROBIN
    bool "Round-robin"

config SCHEDULER_CFS
    bool "Completely Fair Scheduler (CFS)"

config SCHEDULER_PRIORITY
    bool "Priority-based"

endchoice

config MAX_PROCESSES
    int "Maximum number of processes"
    default 32768
    range 16 65536

endmenu

menu "File Systems"

config VFS
    bool "Virtual File System"
    default y

config DEVFS
    bool "Device filesystem support"
    default y
    depends on VFS

config PROCFS
    bool "Proc filesystem support"
    default y
    depends on VFS

config SYSFS
    bool "Sysfs filesystem support"
    default y
    depends on VFS

config EXT2_FS
    bool "Ext2 filesystem support"
    default n
    depends on VFS

config EXT4_FS
    bool "Ext4 filesystem support"
    default n
    depends on VFS

config FAT_FS
    bool "FAT filesystem support"
    default n
    depends on VFS

endmenu

menu "Networking Support"

config NET
    bool "Networking support"
    default y

config INET
    bool "TCP/IP networking"
    default y
    depends on NET

config IPV6
    bool "IPv6 support"
    default y
    depends on INET

config WIRELESS
    bool "Wireless support"
    default y
    depends on NET

endmenu

source "drivers/Kconfig"

menu "Cryptographic API"

config CRYPTO
    bool "Cryptographic API"
    default y

config CRYPTO_AES
    bool "AES cipher"
    default y
    depends on CRYPTO

config CRYPTO_SHA256
    bool "SHA256 hash"
    default y
    depends on CRYPTO

config CRYPTO_RSA
    bool "RSA algorithm"
    default n
    depends on CRYPTO

endmenu

menu "Security Options"

config TPM
    bool "TPM (Trusted Platform Module) support"
    default n

config SECURE_BOOT
    bool "Secure Boot support"
    default n

endmenu

menu "Virtualization Support"

config HYPERVISOR_GUEST
    bool "Running as hypervisor guest"
    default y

config PARAVIRT
    bool "Paravirtualization support"
    default y
    depends on HYPERVISOR_GUEST

config KVM_GUEST
    bool "KVM guest support"
    default y
    depends on HYPERVISOR_GUEST

config VMWARE_GUEST
    bool "VMware guest support"
    default y
    depends on HYPERVISOR_GUEST

config VIRTUALBOX_GUEST
    bool "VirtualBox guest support"
    default y
    depends on HYPERVISOR_GUEST

endmenu

menu "Power Management"

config PM
    bool "Power Management support"
    default y

config ACPI
    bool "ACPI support"
    default y
    depends on PM

config CPU_FREQ
    bool "CPU Frequency scaling"
    default y
    depends on PM

endmenu

menu "Debugging"

config DEBUG
    bool "Debugging support"
    default n

config DEBUG_VERBOSE
    bool "Verbose debugging output"
    default n
    depends on DEBUG

config PANIC_ON_ERROR
    bool "Panic on unrecoverable errors"
    default y

endmenu
